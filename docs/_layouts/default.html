<!DOCTYPE html>
<html>
  <head>
    <script type="importmap">
      {
        "imports": {
          "vue": "https://jspm.dev/vue/dist/vue.js"
        }
      }
      </script>
      <style>
        body{
          font-family: Arial, Helvetica, sans-serif;
        }
        html {
  box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
}
      </style>
    </head>
  <body>
    <section id="main" role="main">
      <div style="width:500px;margin:0 auto;">
        {% raw %}
        <div id="container" style="display:none">
            {{ filteredItems.length }}
            <input v-model="filter" autofocus style="display:block;width:100%;padding:8px;">
            <div style="padding:16px;background:#eee">
              <div v-for="item in filteredItems">
                {{ item }}
              </div>
            </div>
        </div>
        {% endraw %}
      </div>
    </section>
    <script type="module">
      import Vue from 'vue';
      const awsData = "{{ site.baseurl }}/aws";
      new Vue({
          el: '#container',
          created() {
              const self = this;
              fetch(awsData + "/actions.json")
                  .then((response) => response.json())
                  .then((data) => {
                      self.items = data;
                      self.message = "Done!";
                  });
          },
          computed: {
            filteredItems() {
              if (this.filter.length < 2) {
                return this.items;
              }
              return this.items.filter(i => i.indexOf(this.filter) !== -1);
            }
          },
          data() {
              return {
                  filter: '',
                  items: [],
                  message: '...loading'
              }
          }
      });
      container.style.display = "block"
    </script>
  </body>

</html>